# react 和 vue 对比

## 虚拟 dom 是什么? 原理? 优缺点?

虚拟 DOM（Virtual DOM）是一种用于优化前端 UI 渲染性能的技术。它是虚拟化了浏览器中的实际 DOM 元素，通
过在内存中维护一个虚拟 DOM 树来代替直接操作实际 DOM，从而降低了 DOM 操作的成本。

- 原理
  - 虚拟 dom 树是一个纯 JavaScript 对象的树状结构，每个节点代表一个 DOM 元素，包括其类型、属性、子节
    点等信息。
- 优点
  - 性能优化、跨平台、简化复杂性、更好的开发体验
- 缺点
  - 内存消耗、复杂性增加、初始化性能开销

## vue 和 react 在虚拟 dom 的 diff 上，做了哪些改进使得速度很快?

- Vue 的改进：

1. **双向绑定**：Vue 引入了双向绑定系统，允许开发者轻松地将视图与模型同步。Vue 的响应式系统使用了
   Object.defineProperty，它会追踪数据的依赖关系，只更新发生变化的部分，减少了不必要的 DOM 操作。
2. **虚拟 DOM 优化**：Vue 在虚拟 DOM 的 diff 算法中实现了一些优化，例如，通过标记静态子树，避免不必
   要的比较和渲染。
3. **异步更新**：Vue 的更新是异步的，默认情况下会使用微任务（Promise、MutationObserver）来批量处理
   DOM 更新，从而提高性能。

- React 的改进：

1. **Fiber 架构**：React 引入了 Fiber 架构，它是一个重新设计的协调引擎，使得 React 能够在渲染过程中
   更好地管理任务的优先级和中断，以提高渲染性能。
2. **可中断的渲染**：Fiber 架构允许 React 在渲染过程中进行中断和恢复，这意味着 React 可以根据任务的
   优先级动态调整渲染进程，提高用户体验。
3. **增量渲染**：React Fiber 支持增量渲染，允许将大型组件树的渲染工作分割成多个步骤，并在多个帧中逐
   渐完成，以保持界面的响应性。
4. **Suspense 和 Concurrent Mode**：React 引入了 Suspense 和 Concurrent Mode，使得开发者能够更容易地
   处理异步数据加载、代码拆分和资源加载，从而提高应用的性能和用户体验。
5. **memoization**：React 采用了 memoization 技术，通过缓存组件的渲染结果，减少了重复渲染的成本。

## vue 和 react 里的 key

vue 和 react 里的 key 的作用是什么?

> 作用：唯一性标识、优化性能、处理动态列表

为什么不能用 Index？

> 不能使用索引（index）的原因：不具备唯一性、性能问题

用了会怎样? 如果不加 key 会怎样?

> 不加 key 的后果：性能下降、渲染问题
